---
title: "The Role of Shelters in Providing Emergency Housing especially for the Homeless"
author: Syed Hassan
thanks: "Code and data are available at: https://github.com/saiyedgh/Shelters_Toronto.git"
date: "`r Sys.time()`"
date-format: "D MMMM YYYY"
abstract: "The city and the people of Toronto provide shelter to thousands of people every year. The majority that takes benefit from the city's overnight shelter are the homeless. The occupancy of these shelters is 100% on most nights and rarely does space go unoccupied. We need to make these shelters more accessible for the homeless and provide more funding to expand the program."
format: pdf
toc: TRUE
number-sections: true
bibliography: references.bib
---

```{r}
#| messages: false
#| echo: false
#| warning: false
#| output: false
#### Preamble ####
# Title: 
# Author: Syed Hassan
# Email: syed.ext@gmail.com
# Date: 16 March 2023
# GitHub: https://github.com/saiyedgh/Shelters_Toronto.git
```


```{r}
#| include: false
#| echo: false
#| warning: false
#| message: false

##### Install and run the required libraries and packages #####

library(opendatatoronto)
library(tidyverse)
library(here)
library(readr)
library(readxl)
library(kableExtra)
library(scales)
library(knitr)
library(janitor)
```
\


```{r}
#| echo: false
#| warning: false

### load the datasets

data_2022 <- read_csv(
  here::here("inputs/data/clean/clean_data_2022.csv"),
  show_col_types = FALSE
)

data_2021 <- read_csv(
  here::here("inputs/data/clean/clean_data_2021.csv"),
  show_col_types = FALSE
)

```


```{r}
#| echo: false
#| warning: false

location_and_district <- data_2022 |> 
  select(location_id, location_city) |>
  distinct() |>
  group_by(location_id, location_city) |>
  summarise(total_count=n(), .groups = 'drop')


```


```{r}

```



```{r}
#| echo: false
#| warning: false
#| label: fig_01
#| fig-cap: Number of shelters in Toronto by district.
#| fig-align: center
#| fig-width: 6

## Number of shelters in Toronto

data_graph_shelters <- location_and_district |>
  filter(location_city != "N/A")

# Figure 01
# creating a bar graph
data_graph_shelters |>
  ggplot(aes (x = location_city, y = total_count, fill = location_city)) +
  geom_bar(stat = "identity", alpha = 1, width = 0.8) +
  scale_y_continuous(breaks = seq(0, 100, 10)) +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 10)) +
  scale_fill_discrete(name = "City District") +
  theme_minimal() +
  labs(
     x = "Districts within the city of Toronto",
     y = "Number of Shelters"
   ) +
  theme(axis.line = element_line(colour = "#5a6472", # border for the figure
                                 size = 0.5, linetype = "solid"))

```



# Introduction

Homelessness is a genuine concern of the city and the people of Toronto. The city has acquired plenty of permanent and temporary shelters to provide better housing and overnight shelters for the homeless as well as others seeking emergency housing. The city of Toronto, like many other metropolitan cities, has suffered from the problem of homelessness for years. However, the role of the shelters in helping the homeless might go unnoticed because of the increasing numbers on the streets. My analysis aims to discover the issue in detail using data provided by the city of Toronto. Through my analysis, I aim to take you deep into statistics as well as focus on the patterns in order to develop empathy for the homeless. Lastly, the analysis will conclude the role of the shelters of Toronto in helping people overall and how they can improve to include more people in need.


# Data

Coming soon...

# Results

Coming soon...


# Discussion

Coming soon...


# Limitations

Coming soon...


# Conclusion

Coming soon...


\newpage

# Appendix

## Code

The report was created using *`R`* [@R] and *`R Studio`* [@r_studio] with *`Quarto`* [@quarto] -- a new version of *`R Markdown`* [@r_markdown]. The main library utilized for this purpose is *`Tidyverse`* [@tidyverse]. Its used sub-packages include *`dplyr`* [@dplyr] to enable query-like syntax, and *`ggplot`* [@ggplot] to create graphs and charts. Other packages and tools include *`here`* [@here], *`janitor`* [@janitor], *`knitr`* [@knitr], *`kableExtra`* [@kableExtra], and *`scales`* [@scales]. Their respective function is to find *CSV* files, clean data, generate reports, create tables, and enable customized legends and break points.


\newpage

# References
